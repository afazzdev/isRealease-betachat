{"ast":null,"code":"import Axios from \"axios\";\nimport { API } from \"../../helpers/ApiHelper\";\nexport const initialMsg = data => dispatch => {\n  // const idUser = JSON.parse(localStorage.getItem(\"reduxState\")).loginData.data\n  //   .id;\n  Axios.get(\"https://rocky-sierra-75836.herokuapp.com/user/\".concat(data)).then(res => {\n    dispatch({\n      type: \"INITIAL_CHAT\",\n      payload: res.data\n    });\n    console.log(\"initial data\", res);\n  }).catch(err => console.log(err));\n};\nexport const sendMessage = data => dispatch => {\n  const disData = {\n    id_user1: data.id_user_from,\n    id_user2: data.id_user_to,\n    id_user_from: data.id_user_from,\n    id_user_to: data.id_user_to,\n    chat: data.messages\n  };\n  dispatch({\n    type: \"SEND_MESSAGE\",\n    receiver: \"\",\n    payload: data.messages,\n    sender: data.id_user_from,\n    name: data.name\n  });\n  console.log(\"data yang akan dikirim :\", data);\n  Axios.post(\"\".concat(API, \"/messages\"), disData).then(res => {\n    console.log(res);\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const createNewChat = data => dispatch => {\n  dispatch({\n    type: \"CREATE_NEW_CHAT\",\n    payload: data\n  });\n  dispatch({\n    type: \"ACTIVE_CHATS\",\n    payload: data\n  });\n  console.log(\"createnewchat :\", data);\n};\nexport const newChat = data => dispatch => {\n  dispatch({\n    type: \"ACTIVE_CHATS\",\n    payload: data\n  });\n  Axios.get(\"https://rocky-sierra-75836.herokuapp.com/api/chat/\".concat(data.no_detail_chat)).then(res => dispatch({\n    type: \"DETAIL_MSG\",\n    payload: res.data\n  })).catch(err => console.log(err));\n  console.log(\"newchat :\", data);\n};","map":{"version":3,"sources":["/home/latif/faizi/react/mini-project/Copy-beta/src/redux/actions/MessageAction.js"],"names":["Axios","API","initialMsg","data","dispatch","get","then","res","type","payload","console","log","catch","err","sendMessage","disData","id_user1","id_user_from","id_user2","id_user_to","chat","messages","receiver","sender","name","post","createNewChat","newChat","no_detail_chat"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,GAAT,QAAoB,yBAApB;AAEA,OAAO,MAAMC,UAAU,GAAGC,IAAI,IAAIC,QAAQ,IAAI;AAC5C;AACA;AACAJ,EAAAA,KAAK,CAACK,GAAN,yDAA2DF,IAA3D,GACGG,IADH,CACQC,GAAG,IAAI;AACXH,IAAAA,QAAQ,CAAC;AACPI,MAAAA,IAAI,EAAE,cADC;AAEPC,MAAAA,OAAO,EAAEF,GAAG,CAACJ;AAFN,KAAD,CAAR;AAIAO,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BJ,GAA5B;AACD,GAPH,EAQGK,KARH,CAQSC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CARhB;AASD,CAZM;AAcP,OAAO,MAAMC,WAAW,GAAGX,IAAI,IAAIC,QAAQ,IAAI;AAC7C,QAAMW,OAAO,GAAG;AACdC,IAAAA,QAAQ,EAAEb,IAAI,CAACc,YADD;AAEdC,IAAAA,QAAQ,EAAEf,IAAI,CAACgB,UAFD;AAGdF,IAAAA,YAAY,EAAEd,IAAI,CAACc,YAHL;AAIdE,IAAAA,UAAU,EAAEhB,IAAI,CAACgB,UAJH;AAKdC,IAAAA,IAAI,EAAEjB,IAAI,CAACkB;AALG,GAAhB;AAOAjB,EAAAA,QAAQ,CAAC;AACPI,IAAAA,IAAI,EAAE,cADC;AAEPc,IAAAA,QAAQ,EAAE,EAFH;AAGPb,IAAAA,OAAO,EAAEN,IAAI,CAACkB,QAHP;AAIPE,IAAAA,MAAM,EAAEpB,IAAI,CAACc,YAJN;AAKPO,IAAAA,IAAI,EAAErB,IAAI,CAACqB;AALJ,GAAD,CAAR;AAOAd,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCR,IAAxC;AACAH,EAAAA,KAAK,CAACyB,IAAN,WAAcxB,GAAd,gBAA8Bc,OAA9B,EACGT,IADH,CACQC,GAAG,IAAI;AACXG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACD,GAHH,EAIGK,KAJH,CAISC,GAAG,IAAI;AACZH,IAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,GANH;AAOD,CAvBM;AAyBP,OAAO,MAAMa,aAAa,GAAGvB,IAAI,IAAIC,QAAQ,IAAI;AAC/CA,EAAAA,QAAQ,CAAC;AAAEI,IAAAA,IAAI,EAAE,iBAAR;AAA2BC,IAAAA,OAAO,EAAEN;AAApC,GAAD,CAAR;AACAC,EAAAA,QAAQ,CAAC;AAAEI,IAAAA,IAAI,EAAE,cAAR;AAAwBC,IAAAA,OAAO,EAAEN;AAAjC,GAAD,CAAR;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BR,IAA/B;AACD,CAJM;AAMP,OAAO,MAAMwB,OAAO,GAAGxB,IAAI,IAAIC,QAAQ,IAAI;AACzCA,EAAAA,QAAQ,CAAC;AAAEI,IAAAA,IAAI,EAAE,cAAR;AAAwBC,IAAAA,OAAO,EAAEN;AAAjC,GAAD,CAAR;AAEAH,EAAAA,KAAK,CAACK,GAAN,6DACuDF,IAAI,CAACyB,cAD5D,GAGGtB,IAHH,CAGQC,GAAG,IAAIH,QAAQ,CAAC;AAAEI,IAAAA,IAAI,EAAE,YAAR;AAAsBC,IAAAA,OAAO,EAAEF,GAAG,CAACJ;AAAnC,GAAD,CAHvB,EAIGS,KAJH,CAISC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAJhB;AAKAH,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBR,IAAzB;AACD,CATM","sourcesContent":["import Axios from \"axios\";\n\nimport { API } from \"../../helpers/ApiHelper\";\n\nexport const initialMsg = data => dispatch => {\n  // const idUser = JSON.parse(localStorage.getItem(\"reduxState\")).loginData.data\n  //   .id;\n  Axios.get(`https://rocky-sierra-75836.herokuapp.com/user/${data}`)\n    .then(res => {\n      dispatch({\n        type: \"INITIAL_CHAT\",\n        payload: res.data\n      });\n      console.log(\"initial data\", res);\n    })\n    .catch(err => console.log(err));\n};\n\nexport const sendMessage = data => dispatch => {\n  const disData = {\n    id_user1: data.id_user_from,\n    id_user2: data.id_user_to,\n    id_user_from: data.id_user_from,\n    id_user_to: data.id_user_to,\n    chat: data.messages\n  };\n  dispatch({\n    type: \"SEND_MESSAGE\",\n    receiver: \"\",\n    payload: data.messages,\n    sender: data.id_user_from,\n    name: data.name\n  });\n  console.log(\"data yang akan dikirim :\", data);\n  Axios.post(`${API}/messages`, disData)\n    .then(res => {\n      console.log(res);\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const createNewChat = data => dispatch => {\n  dispatch({ type: \"CREATE_NEW_CHAT\", payload: data });\n  dispatch({ type: \"ACTIVE_CHATS\", payload: data });\n  console.log(\"createnewchat :\", data);\n};\n\nexport const newChat = data => dispatch => {\n  dispatch({ type: \"ACTIVE_CHATS\", payload: data });\n\n  Axios.get(\n    `https://rocky-sierra-75836.herokuapp.com/api/chat/${data.no_detail_chat}`\n  )\n    .then(res => dispatch({ type: \"DETAIL_MSG\", payload: res.data }))\n    .catch(err => console.log(err));\n  console.log(\"newchat :\", data);\n};\n"]},"metadata":{},"sourceType":"module"}