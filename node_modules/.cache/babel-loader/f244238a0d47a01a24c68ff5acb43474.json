{"ast":null,"code":"import Axios from \"axios\";\nimport { API } from \"../../helpers/ApiHelper\";\nexport const sendMessage = data => dispatch => {\n  const disData = {\n    id_user1: data.id_user_from,\n    id_user2: data.id_user_to,\n    id_user_from: data.id_user_from,\n    id_user_to: data.id_user_to,\n    chat: data.messages\n  };\n  dispatch({\n    type: \"SEND_MESSAGE\",\n    receiver: \"\",\n    payload: data.messages,\n    sender: data.id_user_from,\n    name: data.name\n  });\n  console.log(\"data yang akan dikirim :\", data);\n  Axios.post(\"\".concat(API, \"/messages\"), disData).then(res => {\n    console.log(res);\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const createNewChat = data => dispatch => {\n  dispatch({\n    type: \"CREATE_NEW_CHAT\",\n    payload: data,\n    username: data.username\n  });\n  dispatch({\n    type: \"ACTIVE_CHAT\",\n    payload: data\n  });\n  console.log(\"createnewchat :\", data);\n};\nexport const initialMsg = data => dispatch => {\n  const idUser = JSON.parse(localStorage.getItem(\"reduxState\")).loginData.data.id;\n  Axios.get(\"\".concat(API, \"/user/\").concat(idUser)).then(res => {\n    dispatch({\n      type: \"INITIAL_CHAT\",\n      payload: res.data\n    });\n    console.log(\"rest data\", res);\n  }).catch(err => console.log(err));\n};","map":{"version":3,"sources":["/home/latif/faizi/react/mini-project/Copy-beta/src/redux/actions/MessageAction.js"],"names":["Axios","API","sendMessage","data","dispatch","disData","id_user1","id_user_from","id_user2","id_user_to","chat","messages","type","receiver","payload","sender","name","console","log","post","then","res","catch","err","createNewChat","username","initialMsg","idUser","JSON","parse","localStorage","getItem","loginData","id","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,GAAT,QAAoB,yBAApB;AAEA,OAAO,MAAMC,WAAW,GAAGC,IAAI,IAAIC,QAAQ,IAAI;AAC7C,QAAMC,OAAO,GAAG;AACdC,IAAAA,QAAQ,EAAEH,IAAI,CAACI,YADD;AAEdC,IAAAA,QAAQ,EAAEL,IAAI,CAACM,UAFD;AAGdF,IAAAA,YAAY,EAAEJ,IAAI,CAACI,YAHL;AAIdE,IAAAA,UAAU,EAAEN,IAAI,CAACM,UAJH;AAKdC,IAAAA,IAAI,EAAEP,IAAI,CAACQ;AALG,GAAhB;AAOAP,EAAAA,QAAQ,CAAC;AACPQ,IAAAA,IAAI,EAAE,cADC;AAEPC,IAAAA,QAAQ,EAAE,EAFH;AAGPC,IAAAA,OAAO,EAAEX,IAAI,CAACQ,QAHP;AAIPI,IAAAA,MAAM,EAAEZ,IAAI,CAACI,YAJN;AAKPS,IAAAA,IAAI,EAAEb,IAAI,CAACa;AALJ,GAAD,CAAR;AAOAC,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCf,IAAxC;AACAH,EAAAA,KAAK,CAACmB,IAAN,WAAclB,GAAd,gBAA8BI,OAA9B,EACGe,IADH,CACQC,GAAG,IAAI;AACXJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACD,GAHH,EAIGC,KAJH,CAISC,GAAG,IAAI;AACZN,IAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,GANH;AAOD,CAvBM;AAyBP,OAAO,MAAMC,aAAa,GAAGrB,IAAI,IAAIC,QAAQ,IAAI;AAC/CA,EAAAA,QAAQ,CAAC;AAAEQ,IAAAA,IAAI,EAAE,iBAAR;AAA2BE,IAAAA,OAAO,EAAEX,IAApC;AAA0CsB,IAAAA,QAAQ,EAAEtB,IAAI,CAACsB;AAAzD,GAAD,CAAR;AACArB,EAAAA,QAAQ,CAAC;AAAEQ,IAAAA,IAAI,EAAE,aAAR;AAAuBE,IAAAA,OAAO,EAAEX;AAAhC,GAAD,CAAR;AACAc,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+Bf,IAA/B;AACD,CAJM;AAMP,OAAO,MAAMuB,UAAU,GAAGvB,IAAI,IAAIC,QAAQ,IAAI;AAC5C,QAAMuB,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,EAA+CC,SAA/C,CAAyD7B,IAAzD,CACZ8B,EADH;AAEAjC,EAAAA,KAAK,CAACkC,GAAN,WAAajC,GAAb,mBAAyB0B,MAAzB,GACGP,IADH,CACQC,GAAG,IAAI;AACXjB,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAE,cADC;AAEPE,MAAAA,OAAO,EAAEO,GAAG,CAAClB;AAFN,KAAD,CAAR;AAIAc,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBG,GAAzB;AACD,GAPH,EAQGC,KARH,CAQSC,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAYK,GAAZ,CARhB;AASD,CAZM","sourcesContent":["import Axios from \"axios\";\n\nimport { API } from \"../../helpers/ApiHelper\";\n\nexport const sendMessage = data => dispatch => {\n  const disData = {\n    id_user1: data.id_user_from,\n    id_user2: data.id_user_to,\n    id_user_from: data.id_user_from,\n    id_user_to: data.id_user_to,\n    chat: data.messages\n  };\n  dispatch({\n    type: \"SEND_MESSAGE\",\n    receiver: \"\",\n    payload: data.messages,\n    sender: data.id_user_from,\n    name: data.name\n  });\n  console.log(\"data yang akan dikirim :\", data);\n  Axios.post(`${API}/messages`, disData)\n    .then(res => {\n      console.log(res);\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const createNewChat = data => dispatch => {\n  dispatch({ type: \"CREATE_NEW_CHAT\", payload: data, username: data.username });\n  dispatch({ type: \"ACTIVE_CHAT\", payload: data });\n  console.log(\"createnewchat :\", data);\n};\n\nexport const initialMsg = data => dispatch => {\n  const idUser = JSON.parse(localStorage.getItem(\"reduxState\")).loginData.data\n    .id;\n  Axios.get(`${API}/user/${idUser}`)\n    .then(res => {\n      dispatch({\n        type: \"INITIAL_CHAT\",\n        payload: res.data\n      });\n      console.log(\"rest data\", res);\n    })\n    .catch(err => console.log(err));\n};\n"]},"metadata":{},"sourceType":"module"}