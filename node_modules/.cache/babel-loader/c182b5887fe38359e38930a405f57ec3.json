{"ast":null,"code":"import Axios from \"axios\";\nimport { API } from \"../../helpers/ApiHelper\";\nexport const initialMsg = data => dispatch => {\n  // const idUser = JSON.parse(localStorage.getItem(\"reduxState\")).loginData.data\n  //   .id;\n  Axios.get(\"https://rocky-sierra-75836.herokuapp.com/user/\".concat(data)).then(res => {\n    // const datares = {\n    //   id: rest.data.id,\n    //   no_detail_chat: rest.data.no_detail_chat,\n    //   id_user1: rest.data.id_user1,\n    //   id_user2: rest.data.id_user2,\n    //   created_at: rest.data.created_at,\n    //   updated_at: rest.data.updated_at,\n    //   username: rest.data.username,\n    //   bio: rest.data.bio,\n    //   phone: rest.data.phone,\n    //   lawan: rest.data.lawan\n    // };\n    dispatch({\n      type: \"INITIAL_CHAT\",\n      payload: res.data.chat.map(rest => ({\n        id: rest.id,\n        no_detail_chat: rest.no_detail_chat,\n        id_user1: rest.id_user1,\n        id_user2: rest.id_user2,\n        created_at: rest.created_at,\n        updated_at: rest.updated_at,\n        username: rest.username,\n        bio: rest.bio,\n        phone: rest.phone,\n        lawan: rest.lawan\n      }))\n    });\n    console.log(\"initial data\", res.data.chat.map(rest => ({\n      id: rest.id,\n      no_detail_chat: rest.no_detail_chat,\n      id_user1: rest.id_user1,\n      id_user2: rest.id_user2,\n      created_at: rest.created_at,\n      updated_at: rest.updated_at,\n      username: rest.username,\n      bio: rest.bio,\n      phone: rest.phone,\n      lawan: rest.lawan\n    })));\n  }).catch(err => console.log(err));\n};\nexport const sendMessage = data => dispatch => {\n  const disData = {\n    id_user1: data.id_user_from,\n    id_user2: data.id_user_to,\n    id_user_from: data.id_user_from,\n    id_user_to: data.id_user_to,\n    chat: data.messages\n  };\n  dispatch({\n    type: \"SEND_MESSAGE\",\n    receiver: \"\",\n    payload: data.messages,\n    sender: data.id_user_from,\n    name: data.name\n  });\n  console.log(\"data yang akan dikirim :\", data);\n  Axios.post(\"\".concat(API, \"/messages\"), disData).then(res => {\n    console.log(res);\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const createNewChat = data => dispatch => {\n  dispatch({\n    type: \"CREATE_NEW_CHAT\",\n    payload: data\n  });\n  dispatch({\n    type: \"ACTIVE_CHATS\",\n    id: data.id,\n    username: data.username,\n    phone: data.phone\n  });\n  console.log(\"createnewchat :\", data);\n};\nexport const newChat = data => dispatch => {\n  dispatch({\n    type: \"ACTIVE_CHATS\",\n    id: data.id,\n    username: data.username,\n    phone: data.phone\n  });\n  Axios.get(\"https://rocky-sierra-75836.herokuapp.com/api/chat/\".concat(data.no_detail_chat)).then(res => dispatch({\n    type: \"DETAIL_MSG\",\n    payload: res.data\n  })).catch(err => console.log(err));\n  console.log(\"newchat :\", data);\n};","map":{"version":3,"sources":["/home/latif/faizi/react/mini-project/Copy-beta/src/redux/actions/MessageAction.js"],"names":["Axios","API","initialMsg","data","dispatch","get","then","res","type","payload","chat","map","rest","id","no_detail_chat","id_user1","id_user2","created_at","updated_at","username","bio","phone","lawan","console","log","catch","err","sendMessage","disData","id_user_from","id_user_to","messages","receiver","sender","name","post","createNewChat","newChat"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\n\nimport { API } from \"../../helpers/ApiHelper\";\n\nexport const initialMsg = data => dispatch => {\n  // const idUser = JSON.parse(localStorage.getItem(\"reduxState\")).loginData.data\n  //   .id;\n  Axios.get(`https://rocky-sierra-75836.herokuapp.com/user/${data}`)\n    .then(res => {\n      // const datares = {\n      //   id: rest.data.id,\n      //   no_detail_chat: rest.data.no_detail_chat,\n      //   id_user1: rest.data.id_user1,\n      //   id_user2: rest.data.id_user2,\n      //   created_at: rest.data.created_at,\n      //   updated_at: rest.data.updated_at,\n      //   username: rest.data.username,\n      //   bio: rest.data.bio,\n      //   phone: rest.data.phone,\n      //   lawan: rest.data.lawan\n      // };\n      dispatch({\n        type: \"INITIAL_CHAT\",\n        payload: res.data.chat.map(rest => ({\n          id: rest.id,\n          no_detail_chat: rest.no_detail_chat,\n          id_user1: rest.id_user1,\n          id_user2: rest.id_user2,\n          created_at: rest.created_at,\n          updated_at: rest.updated_at,\n          username: rest.username,\n          bio: rest.bio,\n          phone: rest.phone,\n          lawan: rest.lawan\n        }))\n      });\n      console.log(\n        \"initial data\",\n        res.data.chat.map(rest => ({\n          id: rest.id,\n          no_detail_chat: rest.no_detail_chat,\n          id_user1: rest.id_user1,\n          id_user2: rest.id_user2,\n          created_at: rest.created_at,\n          updated_at: rest.updated_at,\n          username: rest.username,\n          bio: rest.bio,\n          phone: rest.phone,\n          lawan: rest.lawan\n        }))\n      );\n    })\n    .catch(err => console.log(err));\n};\n\nexport const sendMessage = data => dispatch => {\n  const disData = {\n    id_user1: data.id_user_from,\n    id_user2: data.id_user_to,\n    id_user_from: data.id_user_from,\n    id_user_to: data.id_user_to,\n    chat: data.messages\n  };\n  dispatch({\n    type: \"SEND_MESSAGE\",\n    receiver: \"\",\n    payload: data.messages,\n    sender: data.id_user_from,\n    name: data.name\n  });\n  console.log(\"data yang akan dikirim :\", data);\n  Axios.post(`${API}/messages`, disData)\n    .then(res => {\n      console.log(res);\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const createNewChat = data => dispatch => {\n  dispatch({ type: \"CREATE_NEW_CHAT\", payload: data });\n  dispatch({\n    type: \"ACTIVE_CHATS\",\n    id: data.id,\n    username: data.username,\n    phone: data.phone\n  });\n  console.log(\"createnewchat :\", data);\n};\n\nexport const newChat = data => dispatch => {\n  dispatch({\n    type: \"ACTIVE_CHATS\",\n    id: data.id,\n    username: data.username,\n    phone: data.phone\n  });\n\n  Axios.get(\n    `https://rocky-sierra-75836.herokuapp.com/api/chat/${data.no_detail_chat}`\n  )\n    .then(res => dispatch({ type: \"DETAIL_MSG\", payload: res.data }))\n    .catch(err => console.log(err));\n  console.log(\"newchat :\", data);\n};\n"]},"metadata":{},"sourceType":"module"}